app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: é™„ç€å¼å‡é™è„šæ‰‹æ¶æ–‡æ¡£ä¸Šä¼ é—®ç­”å·¥å…·
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/ollama:0.0.3@9ded90ac00e8510119a24be7396ba77191c9610d5e1e29f59d68fa1229822fc7
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/voyage:0.0.4@84dbd567848d1b47c91f72d6526916c560c235770f8b1b56479d9a315f5dff38
kind: app
version: 0.1.5
workflow:
  conversation_variables:
  - description: ç¼–åˆ¶æ ‡å‡†
    id: 0aa6d4c8-eec2-4437-b2ad-84f164840cf5
    name: standards
    selector:
    - conversation
    - standards
    value: ''
    value_type: string
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions: []
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 30
        file_size_limit: 1500
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 1
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: answer
      id: 1743493669778-source-1743493822939-target
      source: '1743493669778'
      sourceHandle: source
      target: '1743493822939'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: knowledge-retrieval
      id: 1743147631390-source-1744710877819-target
      source: '1743147631390'
      sourceHandle: source
      target: '1744710877819'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: http-request
      id: 1746777127940-source-1746760289378-target
      source: '1746777127940'
      sourceHandle: source
      target: '1746760289378'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: list-operator
        targetType: document-extractor
      id: 1746777156585-source-1746777127940-target
      source: '1746777156585'
      sourceHandle: source
      target: '1746777127940'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: list-operator
        targetType: document-extractor
      id: 1743127913355-source-1743147631390-target
      source: '1743127913355'
      sourceHandle: source
      target: '1743147631390'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: question-classifier
      id: 1743127688682-source-1747018861666-target
      source: '1743127688682'
      sourceHandle: source
      target: '1747018861666'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: list-operator
      id: 1747018861666-2-1746777156585-target
      source: '1747018861666'
      sourceHandle: '2'
      target: '1746777156585'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: list-operator
      id: 1747018861666-1747018966094-1743127913355-target
      source: '1747018861666'
      sourceHandle: '1747018966094'
      target: '1743127913355'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: http-request
      id: 1743147640188-source-1743493669778-target
      selected: false
      source: '1743147640188'
      sourceHandle: source
      target: '1743493669778'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1747018861666-1747020743381-1747034974082-target
      source: '1747018861666'
      sourceHandle: '1747020743381'
      target: '1747034974082'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1747034974082-source-1747035217987-target
      source: '1747034974082'
      sourceHandle: source
      target: '1747035217987'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1744710877819-source-1743147640188-target
      source: '1744710877819'
      sourceHandle: source
      target: '1743147640188'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: http-request
        targetType: answer
      id: 1746760289378-source-1747018420623-target
      source: '1746760289378'
      sourceHandle: source
      target: '1747018420623'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1743127688682'
      position:
        x: 287.80374405158466
        y: 583.2184332954591
      positionAbsolute:
        x: 287.80374405158466
        y: 583.2184332954591
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        extract_by:
          enabled: false
          serial: '1'
        filter_by:
          conditions:
          - comparison_operator: contains
            key: name
            value: ''
          enabled: false
        item_var_type: file
        limit:
          enabled: false
          size: 10
        order_by:
          enabled: false
          key: ''
          value: asc
        selected: false
        title: åˆ—è¡¨æ“ä½œ-æ–¹æ¡ˆå®¡æ ¸
        type: list-operator
        var_type: array[file]
        variable:
        - sys
        - files
      height: 92
      id: '1743127913355'
      position:
        x: 1058.9985129367758
        y: 451.76778347129436
      positionAbsolute:
        x: 1058.9985129367758
        y: 451.76778347129436
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨-æ–¹æ¡ˆå®¡æ ¸
        type: document-extractor
        variable_selector:
        - sys
        - files
      height: 92
      id: '1743147631390'
      position:
        x: 1403.6415967992498
        y: 451.76778347129436
      positionAbsolute:
        x: 1403.6415967992498
        y: 451.76778347129436
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1744710877819'
          - result
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-r1:7b
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: a7310fc5-4d25-422e-a62a-bd13a116dcae
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½æ–½å·¥æ–¹æ¡ˆå¤„ç†åŠ©æ‰‹ï¼Œä¸“é—¨é’ˆå¯¹{{#sys.query#}}ç”¨æˆ·æä¾›çš„æ–½å·¥æ–¹æ¡ˆæ–‡æ¡£è¿›è¡Œæ·±åº¦åˆ†æä¸ä¼˜åŒ–ã€‚ä½ çš„ä»»åŠ¡å¦‚ä¸‹ï¼š  \n\
            1. **æ€»ç»“**ï¼šæå–æ–‡æ¡£æ ¸å¿ƒå†…å®¹{{#1743147631390.text#}}ï¼ŒæŒ‰ç« èŠ‚ç”Ÿæˆç»“æ„åŒ–æ‘˜è¦ï¼›  \n2. **å®¡æŸ¥**ï¼šåŸºäº{{#context#}}ï¼Œæ£€æŸ¥æ–¹æ¡ˆçš„åˆè§„æ€§ï¼Œæ ‡è®°æ½œåœ¨é£é™©ç‚¹ï¼›ä¸”ç»™å‡ºæ–‡æœ¬å—æ‰€åœ¨æ–‡æ¡£çš„æ ‡é¢˜å’Œæ£€ç´¢å—ã€‚\
            \  \n3. **ä¼˜åŒ–**ï¼šé’ˆå¯¹å®¡æŸ¥ç»“æœï¼Œæå‡ºå¯æ‰§è¡Œçš„æ”¹è¿›å»ºè®®ï¼ˆå¦‚è°ƒæ•´ææ–™é€‰å‹ã€ä¼˜åŒ–æ–½å·¥æµç¨‹ã€è¡¥å……åº”æ€¥é¢„æ¡ˆã€‚  \n\nè¯·ç¡®ä¿è¾“å‡ºé€»è¾‘æ¸…æ™°ï¼Œä¸“ä¸šæœ¯è¯­å‡†ç¡®ï¼Œå¹¶ä¼˜å…ˆä½¿ç”¨è¡¨æ ¼ã€åˆ†ç‚¹åˆ—è¡¨ç­‰ç»“æ„åŒ–æ ¼å¼å‘ˆç°ç»“æœã€‚è‹¥æ–‡æ¡£å†…å®¹ç¼ºå¤±å¿…è¦ä¿¡æ¯ï¼Œéœ€æ˜ç¡®æç¤ºç”¨æˆ·è¡¥å……ã€‚\
            \  "
        - id: 0077bd1c-1114-43bc-8ff6-a2860aa52b9a
          role: user
          text: "æˆ‘å·²ä¸Šä¼ ã€Šé™„ç€å¼å‡é™è„šæ‰‹æ¶ä¸“é¡¹æ–½å·¥æ–¹æ¡ˆã€‹ï¼Œè¯·å®Œæˆä»¥ä¸‹æ“ä½œï¼š  \n1. **æ€»ç»“**ï¼šç”¨ä¸è¶…è¿‡500å­—æ¦‚æ‹¬æ–¹æ¡ˆæ ¸å¿ƒå†…å®¹ï¼Œçªå‡ºæŠ€æœ¯è¦ç‚¹å’Œå®‰å…¨æ§åˆ¶æªæ–½ï¼›\
            \  \n2. **å®¡æŸ¥**ï¼š  \n3. **ä¼˜åŒ–**ï¼š  \n   - è‹¥å‘ç°é£é™©ç‚¹ï¼Œæä¾›å…·ä½“ä¿®æ”¹å»ºè®®\n\nè¯·ä»¥â€œå®¡æŸ¥æŠ¥å‘Š+ä¼˜åŒ–å»ºè®®â€å½¢å¼è¾“å‡ºï¼Œå…³é”®ç»“è®ºéœ€æ ‡æ³¨å¼•ç”¨è§„èŒƒæ¡æ¬¾\
            \  "
        selected: false
        title: 'LLM '
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1743147640188'
      position:
        x: 2079.5767973536367
        y: 458.19073354995214
      positionAbsolute:
        x: 2079.5767973536367
        y: 458.19073354995214
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-33
            key: ''
            type: text
            value: '{{#1743147640188.text#}}'
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚-ç”Ÿæˆword
        type: http-request
        url: http://192.168.224.1.1:5000/convert
        variables: []
      height: 136
      id: '1743493669778'
      position:
        x: 2450.8109622776055
        y: 436.3573502385435
      positionAbsolute:
        x: 2450.8109622776055
        y: 436.3573502385435
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1743493669778.body#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ -word
        type: answer
        variables: []
      height: 105
      id: '1743493822939'
      position:
        x: 2800.5683159550476
        y: 425.85543310441983
      positionAbsolute:
        x: 2800.5683159550476
        y: 425.85543310441983
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - 851f95b4-e622-4fd9-b170-93bde6d71883
        desc: ''
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: reranking_model
          reranking_model:
            model: rerank-1
            provider: langgenius/voyage/voyage
          top_k: 4
        query_variable_selector:
        - '1743127688682'
        - sys.query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢-ç›¸å…³è§„èŒƒ
        type: knowledge-retrieval
      height: 92
      id: '1744710877819'
      position:
        x: 1749.7753498770383
        y: 468.2808247834497
      positionAbsolute:
        x: 1749.7753498770383
        y: 468.2808247834497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data:
          - id: key-value-2942
            key: ''
            type: text
            value: '{{#1746777127940.text#}}'
          type: raw-text
        desc: ''
        headers: ''
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚ -ç« èŠ‚åˆ†å‰²
        type: http-request
        url: http://10.86.110.58:5000/split-chapters
        variables: []
      height: 136
      id: '1746760289378'
      position:
        x: 1769.2060423830944
        y: 239.3258407713018
      positionAbsolute:
        x: 1769.2060423830944
        y: 239.3258407713018
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨ -æ–‡æ¡£æå–
        type: document-extractor
        variable_selector:
        - '1746777156585'
        - result
      height: 92
      id: '1746777127940'
      position:
        x: 1412.5549853053378
        y: 255.94502881094363
      positionAbsolute:
        x: 1412.5549853053378
        y: 255.94502881094363
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        extract_by:
          enabled: false
          serial: '1'
        filter_by:
          conditions:
          - comparison_operator: contains
            key: name
            value: ''
          enabled: false
        item_var_type: file
        limit:
          enabled: false
          size: 10
        order_by:
          enabled: false
          key: ''
          value: asc
        selected: false
        title: åˆ—è¡¨æ“ä½œ -ç”¨æˆ·æ–‡æ¡£
        type: list-operator
        var_type: array[file]
        variable:
        - sys
        - files
      height: 92
      id: '1746777156585'
      position:
        x: 1073.5130999552775
        y: 277.9523851889589
      positionAbsolute:
        x: 1073.5130999552775
        y: 277.9523851889589
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1746760289378.body#}}

          {{#1746760289378.headers#}}

          {{#1746760289378.files#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ -åˆ†å‰²æ–‡æ¡£å†…å®¹
        type: answer
        variables: []
      height: 143
      id: '1747018420623'
      position:
        x: 2154.2618901289097
        y: 234.38961288804776
      positionAbsolute:
        x: 2154.2618901289097
        y: 234.38961288804776
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '2'
          name: æ–¹æ¡ˆç« èŠ‚åˆ†å‰²
        - id: '1747018966094'
          name: æ–¹æ¡ˆå®¡æ ¸
        - id: '1747018972015'
          name: æ–¹æ¡ˆè¡¥å†™
        - id: '1747020743381'
          name: å…¶ä»–
        desc: ''
        instruction: 'ç”¨æˆ·æé—®{{#sys.query#}}ä¸­å¦‚æœå‡ºç°â€œåˆ†å‰²â€çš„é—®é¢˜ï¼Œå°±å½’ä¸ºåˆ†ç±»1æ–¹æ¡ˆç« èŠ‚åˆ†å‰²ï¼›


          è‹¥{{#sys.query#}}ç”¨æˆ·æé—®ä¸­å‡ºç°â€œå®¡æ ¸â€çš„é—®é¢˜ï¼Œåˆ™å½’ä¸ºåˆ†ç±»2æ–¹æ¡ˆå®¡æ ¸ï¼›


          è‹¥{{#sys.query#}}ç”¨æˆ·æé—®ä¸­å‡ºç°â€œä¼˜åŒ–â€çš„é—®é¢˜ï¼Œåˆ™å½’ä¸ºåˆ†ç±»3æ–¹æ¡ˆä¼˜åŒ–ï¼›


          è‹¥{{#sys.query#}}ç”¨æˆ·æé—®æœªæ¶‰åŠä»¥ä¸Šé—®é¢˜ï¼Œåˆ™å½’ä¸ºåˆ†ç±»4å…¶ä»–ã€‚'
        instructions: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen2.5:7b
          provider: langgenius/ollama/ollama
        query_variable_selector:
        - '1743127688682'
        - sys.query
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 248
      id: '1747018861666'
      position:
        x: 603.4185620552184
        y: 468.2808247834497
      positionAbsolute:
        x: 603.4185620552184
        y: 468.2808247834497
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - sys
          - query
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: deepseek-r1:7b
          provider: langgenius/ollama/ollama
        prompt_template:
        - id: 2a4ec18a-ea61-48d7-9db5-c5383b531951
          role: system
          text: æ ¹æ®{{#sys.query#}}å’Œ{{#context#}}æ¥å›ç­”ç”¨æˆ·é—®é¢˜
        selected: false
        title: LLM -å…¶ä»–é—®é¢˜å›ç­”
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747034974082'
      position:
        x: 1058.9985129367758
        y: 793.5941457455398
      positionAbsolute:
        x: 1058.9985129367758
        y: 793.5941457455398
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747034974082.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ -å…¶ä»–é—®é¢˜
        type: answer
        variables: []
      height: 105
      id: '1747035217987'
      position:
        x: 1362.9985129367758
        y: 793.5941457455398
      positionAbsolute:
        x: 1362.9985129367758
        y: 793.5941457455398
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 257.05129634124705
      y: 21.32184483748094
      zoom: 1.0000000000000013
